<Page x:Class="Metabalance_app.Pages.Weight"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:lvc="clr-namespace:LiveCharts.Wpf;assembly=LiveCharts.Wpf"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Background="#F5F6FA"
      UseLayoutRounding="True"
      SnapsToDevicePixels="True"
      TextOptions.TextRenderingMode="ClearType"
      TextOptions.TextFormattingMode="Display">

    <Page.Resources>


        <Style x:Key="CardStyle" TargetType="Border">
            <Setter Property="Background" Value="White"/>
            <Setter Property="CornerRadius" Value="14"/>
            <Setter Property="Padding" Value="28"/>
            <Setter Property="Margin" Value="0 0 0 28"/>
            <Setter Property="HorizontalAlignment" Value="Stretch"/>
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect BlurRadius="20"
                                  ShadowDepth="3"
                                  Opacity="0.12"/>
                </Setter.Value>
            </Setter>
        </Style>


        <Style x:Key="SectionTitle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="20"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Margin" Value="0 0 0 16"/>
        </Style>


        <Style x:Key="LabelText" TargetType="TextBlock">
            <Setter Property="Foreground" Value="#666"/>
            <Setter Property="Margin" Value="0 0 0 6"/>
        </Style>

    </Page.Resources>



    <Grid Height="Auto" VerticalAlignment="Top" Background="White">

        <Grid.ColumnDefinitions>
            <ColumnDefinition/>

            <ColumnDefinition Width="0"/>

        </Grid.ColumnDefinitions>

        <ScrollViewer Margin="0,52,0,0" VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
            <StackPanel Margin="20" MaxWidth="1400" Width="1413">


                <Border Style="{StaticResource CardStyle}">
                    <StackPanel>

                        <TextBlock Text="Napi súlybejegyzés"
                                   Style="{StaticResource SectionTitle}"/>
                        <TextBlock Text="Rögzítse jelenlegi súlyát és frissítse céljait."
                                   
                                   Margin="0 4 0 16"/>

                        <TextBox Height="40"
                                 Margin="0 0 0 10"
                                 Text="Jelenlegi súly (kg)" x:Name="CurrentWeight"/>

                        <TextBox Height="40"
                                 Margin="0 0 0 16"
                                 Text="Súlycél (kg)" x:Name="GoalWeight"/>

                        <Button x:Name="AddWeightButton"
        Content="+ Súly naplózása"
        Height="42"
        Background="#FF6B6B"
        Foreground="White"
        BorderThickness="0"
        FontWeight="SemiBold"
        Click="AddWeight"/>
                    </StackPanel>
                </Border>


                <Border Style="{StaticResource CardStyle}">
                    <StackPanel>

                        <TextBlock Text="Testsúly változása"
                                   Style="{StaticResource SectionTitle}"/>
                        <TextBlock Text="Az elmúlt 6 hónap statisztikái a céljához viszonyítva."
                                 
                                   Margin="0 4 0 20"/>


                        <Grid Margin="0 0 0 20">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>

                            <Border Background="#F4F4F4"
                                    CornerRadius="8"
                                    Padding="16"
                                    Margin="0 0 10 0">
                                <StackPanel>
                                    <TextBlock Text="Jelenlegi súly"
                                              />
                                    <TextBlock Text="Nincs adat!"
                                               FontSize="20"
                                               FontWeight="Bold"
                                                x:Name="CurrentWeightDisplay"/>
                                </StackPanel>
                            </Border>

                            <Border Grid.Column="1"
                                    Background="#F4F4F4"
                                    CornerRadius="8"
                                    Padding="16"
                                    Margin="10 0 0 0">
                                <StackPanel>
                                    <TextBlock Text="Cél súly"
                                              />
                                    <TextBlock Text="Nincs adat!"
                                               FontSize="20"
                                               FontWeight="Bold"
                                               x:Name="GoalWeightDisplay"/>
                                </StackPanel>
                            </Border>
                        </Grid>


                       <Border Background="White" CornerRadius="14" Padding="24" Margin="10">
                            <lvc:CartesianChart Height="217">
                                <lvc:CartesianChart.Series>
                                    <!-- KÉK: mért testsúly -->
                                    <lvc:LineSeries Title="Testsúly"
                        Values="{Binding WeightLast7Days}"
                        PointGeometrySize="8" />

                                    <!-- PIROS: cél testsúly -->
                                    <lvc:LineSeries Title="Cél súly"
                        Values="{Binding GoalWeightLine}"
                        Stroke="Red"
                        Fill="Transparent"
                        PointGeometry="{x:Null}" />
                                </lvc:CartesianChart.Series>

                                <lvc:CartesianChart.AxisX>
                                    <lvc:Axis Title="Napok" Labels="{Binding WeightLast7DaysLabels}" />
                                </lvc:CartesianChart.AxisX>

                                <lvc:CartesianChart.AxisY>
                                    <lvc:Axis Title="kg" />
                                </lvc:CartesianChart.AxisY>
                            </lvc:CartesianChart>
                        </Border>

                    </StackPanel>
                </Border>


                <TextBlock Text="© 2025 Metabalance. Minden jog fenntartva."
                           Foreground="#AAA"
                           FontSize="12"
                           HorizontalAlignment="Center"
                           Margin="0 30"/>

            </StackPanel>
        </ScrollViewer>
        <Grid Height="52" VerticalAlignment="Top" Background="White" Margin="0,0,10,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>


            <StackPanel Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="20,0,0,0">
                <Image Source="/Pages/img/logo-removebg-preview.png" Height="40"/>
                <TextBlock Text="Metabalance" FontSize="32" FontWeight="Bold" Foreground="#264653"/>
            </StackPanel>


            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center" Grid.Column="1" Margin="0,0,20,0">
                <Button Width="45" Height="48" Content="–" Background="White" BorderThickness="0" Click="Minimize"/>
                <Button Width="45" Height="48" Content="▢" Background="White" BorderThickness="0" Click="Maximize" Margin="5,0"/>
                <Button Width="45" Height="48" Content="X" Background="White" BorderThickness="0" Click="Exit"/>
                <Button Width="180" Height="48" Content="Kijelentkezés" FontSize="20" Background="White" BorderBrush="Transparent" Click="BackToMain"/>
                <Image Source="/Pages/img/profileicon-removebg-preview.png" Height="38" Width="38" Margin="10,0,0,0"/>
            </StackPanel>


            <Grid HorizontalAlignment="Center" VerticalAlignment="Center">
                <Button Content="Kezelőpult" Height="48" FontSize="20" Background="White" BorderBrush="Transparent" Click="BackDash" Margin="-110,0,214,0"/>
                <Button Content="Kalória" Height="48" FontSize="20" Background="White" BorderBrush="Transparent" Click="CaloriesClick" Margin="32,0,82,0"/>
                <Button Click="SleepPage" Content="Alvás" Height="48" FontSize="20" Background="White" BorderBrush="Transparent"  Margin="164,0,-42,0"/>
                <Button Click="WaterClick" Content="Víz" Height="48" FontSize="20" Background="White" BorderBrush="Transparent" Margin="293,0,-150,0"/>
                <Button Click="MoodClick" Content="Hangulat" Height="48" FontSize="20" Background="White" BorderBrush="Transparent" Margin="409,0,-280,0" RenderTransformOrigin="1.458,0.458"/>
                <Button Content="Súly" Height="48" FontSize="20" Background="White" BorderBrush="Transparent" Margin="526,0,-397,0"/>
                <Image  Height="40" Margin="526,0,-326,0" VerticalAlignment="Center" Width="46" Source="/Pages/img/weigthnav-removebg-preview.png"/>
                <Image HorizontalAlignment="Left" Height="40" Margin="-121,0,0,0" VerticalAlignment="Center" Width="46" Source="/Pages/img/house.png"/>
                <Image  Height="40" Margin="163,0,37,0" VerticalAlignment="Center" Width="46" Source="/Pages/img/sleepnav-removebg-preview.png"/>
                <Image  Height="40" Margin="292,0,-92,0" VerticalAlignment="Center" Width="46" Source="/Pages/img/waternav-removebg-preview.png"/>
                <Image  Height="40" Margin="383,0,-183,0" VerticalAlignment="Center" Width="46" Source="/Pages/img/moodnav-removebg-preview.png" RenderTransformOrigin="0.96,0.467"/>
                <Image HorizontalAlignment="Left" Height="40" Margin="32,0,0,0" VerticalAlignment="Center" Width="46" Source="/Pages/img/foodnav-removebg-preview.png"/>
            </Grid>
        </Grid>

    </Grid>
</Page>
